Technical Spec: Temporal $\Delta VP$ Normalization1. Concept & RationaleRaw $\Delta VP$ measures how much a card helps you outscore opponents on average. However, a card bought on Turn 1 has 12 turns to generate value, while a card bought on Turn 11 has only 1.Comparing them directly is flawed:Card A (Turn 1): Generates +1 VP/Turn. Total = +12 VP.Card B (Turn 11): Generates +5 VP immediately. Total = +5 VP.By raw $\Delta VP$, Card A looks superior (+12 vs +5).By Per-Turn Impact, Card B is explosive (+5/turn vs +1/turn).We need two metrics:Raw $\Delta VP$ (The "Macro" View): Did this card help win the marathon?Normalized $\Delta VP$ (The "Micro" View): Was this card efficient for the time it was held?$$\Delta VP_{norm} = \frac{\Delta VP}{\text{Turns Held}}$$Where $\text{Turns Held} = \text{Total Game Turns} - \text{Turn Acquired}$.2. Metric Definitions2.1 Acquisition Segments (Partials)To categorize cards, we segment performance based on when the card was acquired:Early Game: Rounds 1–4 (Day Era)Mid Game: Rounds 5–8 (End Day / Start Night)Late Game: Rounds 9–12 (Night Era)2.2 Calculated Metrics per Card ($C$)For every card $C$, we track specific accumulators:$\Delta VP_{total}$: Sum of $\Delta VP$ across all games.$N_{picks}$: Total times acquired.$\Delta VP_{early}$: Average $\Delta VP$ when acquired in Rounds 1–4.$\Delta VP_{mid}$: Average $\Delta VP$ when acquired in Rounds 5–8.$\Delta VP_{late}$: Average $\Delta VP$ when acquired in Rounds 9–12.3. Data Interpretation Matrix (The "Diagnosis")By comparing these partials, we can auto-classify card balance issues.PatternΔVPearly​ΔVPlate​DiagnosisActionThe SnowballHigh (+)Low/AvgOP Engine. Buying this early guarantees a win. It likely compounds resources too efficiently.Nerf: Increase Cost or remove compounding effects (e.g., cap max tokens).The FinisherLow/NegHigh (+)Good Design. Weak early (dead weight), strong late.Keep. This is a healthy "Quest" or "Big Gun" card.The TrapNegativeNegativeTrash. Always bad, regardless of timing.Buff: Decrease Cost or add utility (e.g., "On Buy: Gain 2 VP").The Panic ButtonLowAvg (+)Clutch. Bought late to solve a specific problem (e.g., kill a boss).Keep. Essential for tactical depth.The AnchorNegativeLowEarly Trap. Looks cheap/good early, but scales poorly and clogs slots.Rework: Add a "Sell" or "Upgrade" mechanic, or boost scaling.4. Implementation Details4.1 Python Backend (bot_simulation_router.py)You are essentially expanding the _execute_simulations logic to track when an item was bought.Logic Flow:Track Acquisition Turn: In the simulation loop, when buy_weapon or buy_upgrade occurs, record the round and era for that player and card.Compute Delta: At game end, calculate $\Delta VP$ for the player.Binning: Assign that $\Delta VP$ to the specific "Time Bin" (Early/Mid/Late) for that card.Data Structure (JSON Output):JSON"card_stats": {
  "Inferno Cannon": {
    "picks": 150,
    "wins": 80,
    "avgDeltaVP": 4.5,
    "temporal": {
      "early": { "sumDelta": 600, "count": 100 },  // Avg: +6.0 (Snowball!)
      "mid":   { "sumDelta": 50,  "count": 40 },   // Avg: +1.25
      "late":  { "sumDelta": -20, "count": 10 }    // Avg: -2.0 (Bad late buy)
    }
  }
}
4.2 React Frontend (OneFile.jsx)The frontend logic provided in the previous turn already implements the parser for this.Key Visualizations:Scatter Plot: X-Axis = Avg Turn Acquired, Y-Axis = Avg $\Delta VP$.Insight: Clusters top-left are Snowballs. Clusters top-right are Finishers.Detailed Modal (Bar Chart): Shows the "Evolution of Power" for a single card.Insight: A declining bar chart (High Early $\to$ Low Late) proves the card is an "Engine." An ascending bar chart proves it's a "Scaler."5. Normalization Formulae for "Power Score"If you want a single number to represent "Power" taking time into account:$$\text{Power Score} = (\Delta VP_{early} \times W_E) + (\Delta VP_{mid} \times W_M) + (\Delta VP_{late} \times W_L)$$Recommended Weights:$W_E = 1.2$ (Early advantage is worth more due to compounding).$W_M = 1.0$ (Standard value).$W_L = 0.8$ (Late points are often just "win-more").This score helps you rank cards in a single list while respecting the disproportionate impact of early-game engines.